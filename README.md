# woocommerce-tricks

# Программно создать вариативный товар
simple-to-variable.php

Торгуем экскурсиями. К месту проведения экскурсии клиенты добираются самостоятельно, но в некоторых случаях организаторы предоставляют автобус. Клиент может доехать сам или доплатить некоторую сумму за место в автобусе. Стоимость проезда хранится в custom field.  Если это поле определено для товара, то он должен быть вариативным с двумя вариациями. Если стоимость проезда не задана - товар простой.

В функцию передается ID товара и стоимость проезда. Если стоимость больше нуля - создаем товар с двумя вариациями по атрибуту pa_bus - автобус нужен (стоимость вариации включает стоимость проезда) и автобус не нужен (в стоимость входит только сама экскурсия). 
